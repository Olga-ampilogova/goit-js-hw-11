{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\r\n// Додатковий імпорт стилів\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\n// Описаний у документації\r\nimport SimpleLightbox from \"simplelightbox\";\r\n// Додатковий імпорт стилів\r\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\r\nconst item = document.querySelector('.gallery');\r\nconst inputValue = document.querySelector('.searchform')\r\nconst searchForm = document.querySelector('.search-form');\r\nconst animateLoad = document.querySelector('.animate');\r\nanimateLoad.style.visibility = 'hidden';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '41618210-7d4eb9e03ab25b6c1f3452a1d';\r\nlet gallery = new SimpleLightbox('.gallery a', { captionDelay: 250, captionsData: 'alt', close: true ,className: 'modal-style'});\r\ngallery.on('show.simplelightbox', function () {\r\n});\r\n\r\nlet searchParams = new URLSearchParams({\r\n    key: '41618210-7d4eb9e03ab25b6c1f3452a1d',\r\n    q: '',\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    safesearch: 'true',\r\n});\r\n\r\nsearchForm.addEventListener('submit', (event) => {\r\n       event.preventDefault();\r\n    if (inputValue.value.trim().length === 0) {\r\n        return;\r\n    }\r\n    cleanScreen();\r\n    showLoad();\r\n    searchParams.set(\"q\",inputValue.value);\r\n    getPhotos();\r\n    inputValue.value = '';\r\n});\r\n\r\nfunction getPhotos() {\r\n    const fullQuery = `${BASE_URL}?${searchParams}`;\r\n    showLoad();\r\n    fetch(fullQuery)\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                throw new Error('error');\r\n            }\r\n            return response.json();\r\n        })\r\n        .then(({ hits }) => {\r\n            if (hits.length === 0) {\r\n                iziToast.error({\r\n                    title: 'Error',\r\n                    position: 'topCenter',\r\n                    message: \"Sorry, there are no images matching your search query. Please try again!\"\r\n                });\r\n            }\r\n            let renderImages = hits.reduce(\r\n                (html, image) =>\r\n                    html +\r\n                        ` <li class=\"gallery-item\">\r\n                            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\r\n                            <img class=\"gallery-image\" data-source=${image.largeImageURL} src=${image.webformatURL} alt = ${image.tags} width=\"360\" height=\"200\"/>\r\n                            </a>\r\n                            <div class= 'title'>\r\n                            <p>Likes:<span class=\"value\">${image.likes}</p>\r\n                            <p>Views:<span class=\"value\">${image.views}</span></p>\r\n                            <p>Comments:<span class=\"value\">${image.comments}</span></p>\r\n                            <p>Downloads:<span class=\"value\">${image.downloads}</span></p>\r\n                            </div>\r\n                       </li>`\r\n                , '');\r\n            item.innerHTML = renderImages;\r\n            gallery.refresh();\r\n            hideLoad();\r\n        })\r\n        .catch(() => {\r\n              iziToast.error({\r\n                title: 'Error',\r\n                position: 'topCenter',\r\n                message: \"Exeptional error!\"\r\n            });\r\n        });\r\n}\r\n\r\nfunction cleanScreen() {\r\n    item.replaceChildren();\r\n}\r\n\r\nfunction hideLoad() {\r\n    animateLoad.style.visibility = 'hidden';\r\n      }\r\nfunction showLoad() {\r\n    animateLoad.style.visibility = 'visible';\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["item","inputValue","searchForm","animateLoad","BASE_URL","gallery","SimpleLightbox","searchParams","event","cleanScreen","showLoad","getPhotos","fullQuery","response","hits","iziToast","renderImages","html","image","hideLoad"],"mappings":"6vBAOA,MAAMA,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,UAAU,EACrDA,EAAY,MAAM,WAAa,SAC/B,MAAMC,EAAW,2BAEjB,IAAIC,EAAU,IAAIC,EAAe,aAAc,CAAE,aAAc,IAAK,aAAc,MAAO,MAAO,GAAM,UAAW,aAAa,CAAC,EAC/HD,EAAQ,GAAG,sBAAuB,UAAY,CAC9C,CAAC,EAED,IAAIE,EAAe,IAAI,gBAAgB,CACnC,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAC,EAEDL,EAAW,iBAAiB,SAAWM,GAAU,CAC1CA,EAAM,eAAc,EACnBP,EAAW,MAAM,KAAI,EAAG,SAAW,IAGvCQ,IACAC,IACAH,EAAa,IAAI,IAAIN,EAAW,KAAK,EACrCU,IACAV,EAAW,MAAQ,GACvB,CAAC,EAED,SAASU,GAAY,CACjB,MAAMC,EAAY,GAAGR,KAAYG,IACjCG,IACA,MAAME,CAAS,EACV,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,OAAO,EAE3B,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAK,CAAC,CAAE,KAAAC,KAAW,CACZA,EAAK,SAAW,GAChBC,EAAS,MAAM,CACX,MAAO,QACP,SAAU,YACV,QAAS,0EAC7B,CAAiB,EAEL,IAAIC,EAAeF,EAAK,OACpB,CAACG,EAAMC,IACHD,EACI;AAAA,4DACoCC,EAAM;AAAA,qEACGA,EAAM,qBAAqBA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA,2DAGvEA,EAAM;AAAA,2DACNA,EAAM;AAAA,8DACHA,EAAM;AAAA,+DACLA,EAAM;AAAA;AAAA,8BAGnD,EAAE,EACRlB,EAAK,UAAYgB,EACjBX,EAAQ,QAAO,EACfc,GACZ,CAAS,EACA,MAAM,IAAM,CACPJ,EAAS,MAAM,CACb,MAAO,QACP,SAAU,YACV,QAAS,mBACzB,CAAa,CACb,CAAS,CACT,CAEA,SAASN,GAAc,CACnBT,EAAK,gBAAe,CACxB,CAEA,SAASmB,GAAW,CAChBhB,EAAY,MAAM,WAAa,QAC5B,CACP,SAASO,GAAW,CAChBP,EAAY,MAAM,WAAa,SACnC"}